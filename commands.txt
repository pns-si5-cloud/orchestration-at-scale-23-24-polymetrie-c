#Load the env

source .venv/bin/activate

#Ansible commands :

ansible-galaxy collection install community.kubernetes

ansible-playbook ansible.yaml

kubectl commands :

### Create NameSpace

kubectl create namespace polymetrie-c

### Set current NameSpace

kubectl config set-context --current --namespace=polymetrie-c

## Don't forget to add namespace inside yaml files under metadata

helm commands :

## adding prometheus-community : 
helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
helm repo update

## Deploying with custom values 
helm install prometheus-stack-poly prometheus-community/kube-prometheus-stack \
--create-namespace --namespace prometheus \
-f custom-values.yaml

kubectl --namespace prometheus get pods -l "release=prometheus-stack-poly"

prometheus port forwarding : kubectl port-forward svc/prometheus-stack-poly-kube-prometheus 9090:9090
grafana port forwarding : kubectl port-forward svc/prometheus-stack-poly-grafana 8080:80
grafana username : admin | password : prom-operator
